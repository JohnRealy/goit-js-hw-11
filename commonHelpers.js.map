{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = '43234109-b8a56a1b11e396064285a6ce5';\nconst BASE_URL = 'https://pixabay.com';\nconst END_POINT = '/api';\n\nexport function getPhotos(q, page) {\n  const params = {\n    q,\n    key: API_KEY,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n    page,\n  };\n  const options = new URLSearchParams(params);\n  const url = `${BASE_URL}${END_POINT}/?${options}`;\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      iziToast.error({\n        title: 'Error',\n        message: 'Ups.. Something wrong',\n        position: 'topRight',\n      });\n    }\n    return res.json();\n  });\n}\n","export function createMarkup(arr) {\n  return arr\n    .map(\n      item => `<li class=\"gallary-item\">\n              <a class=\"gallery-link\" href=\"${item.largeImageURL}\">\n                <img\n                  src=\"${item.webformatURL}\"\n                  alt=\"${item.tags}\"\n                />\n              </a>\n              <ul class=\"gallary-item-info\">\n                <li class=\"info-block\">\n                  <h5>Likes</h5>\n                  <p>${item.likes}</p>\n                </li>\n                <li class=\"info-block\">\n                  <h5>Views</h5>\n                  <p>${item.views}</p>\n                </li>\n                <li class=\"info-block\">\n                  <h5>Comments</h5>\n                  <p>${item.comments}</p>\n                </li>\n                <li class=\"info-block\">\n                  <h5>Downloads</h5>\n                  <p>${item.downloads}</p>\n                </li>\n              </ul>\n            </li>`\n    )\n    .join('');\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n//============================\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { Spinner } from 'spin.js';\n\n//?============================================\n\nimport { getPhotos } from './js/pixabay-api';\nimport { createMarkup } from './js/render-functions';\n\nconst form = document.querySelector('.form-js');\nconst gallary = document.querySelector('.gallary');\nconst target = document.querySelector('.js-backdrop');\nform.addEventListener('submit', handleSubmit);\n\nconst spinnerOpts = {\n  lines: 9, // The number of lines to draw\n  length: 42, // The length of each line\n  width: 24, // The line thickness\n  radius: 45, // The radius of the inner circle\n  scale: 0.9, // Scales overall size of the spinner\n  corners: 1, // Corner roundness (0..1)\n  speed: 0.8, // Rounds per second\n  rotate: 0, // The rotation offset\n  animation: 'spinner-line-fade-quick', // The CSS animation name for the lines\n  direction: 1, // 1: clockwise, -1: counterclockwise\n  color: '#ffffff', // CSS color or array of colors\n  fadeColor: 'transparent', // CSS color or array of colors\n  top: '50%', // Top position relative to parent\n  left: '50%', // Left position relative to parent\n  shadow: '0 0 1px transparent', // Box-shadow for the lines\n  zIndex: 2000000000, // The z-index (defaults to 2e9)\n  className: 'spinner', // The CSS class to assign to the spinner\n  position: 'absolute', // Element positioning\n};\n\nconst spinner = new Spinner(spinnerOpts);\nconst lightbox = new SimpleLightbox('.gallary a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nlet page = 1;\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  spinnerRun();\n  gallary.innerHTML = '';\n  const searchQuery = e.target.elements.input.value.trim();\n  if (searchQuery.length === 0) {\n    spinnerStop();\n    return iziToast.error({\n      message: 'Sorry, your query is empty Please try again!',\n      position: 'topRight',\n    });\n  }\n\n  getPhotos(searchQuery, page)\n    .then(res => {\n      if (res.hits.length === 0) {\n        gallary.innerHTML = '';\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n      }\n      gallary.insertAdjacentHTML('beforeend', createMarkup(res.hits));\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => spinnerStop());\n}\n\nfunction spinnerRun() {\n  spinner.spin(target);\n  target.classList.remove('is-hidden');\n}\n\nfunction spinnerStop() {\n  spinner.stop(target);\n  target.classList.add('is-hidden');\n}\n"],"names":["API_KEY","BASE_URL","END_POINT","getPhotos","q","page","params","options","url","res","createMarkup","arr","item","form","gallary","target","handleSubmit","spinnerOpts","spinner","Spinner","lightbox","SimpleLightbox","e","spinnerRun","searchQuery","spinnerStop","iziToast","error"],"mappings":"owBAAA,MAAMA,EAAU,qCACVC,EAAW,sBACXC,EAAY,OAEX,SAASC,EAAUC,EAAGC,EAAM,CACjC,MAAMC,EAAS,CACb,EAAAF,EACA,IAAKJ,EACL,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACV,KAAAK,CACJ,EACQE,EAAU,IAAI,gBAAgBD,CAAM,EACpCE,EAAM,GAAGP,CAAQ,GAAGC,CAAS,KAAKK,CAAO,GAC/C,OAAO,MAAMC,CAAG,EAAE,KAAKC,IAChBA,EAAI,IACP,SAAS,MAAM,CACb,MAAO,QACP,QAAS,wBACT,SAAU,UAClB,CAAO,EAEIA,EAAI,OACZ,CACH,CC1BO,SAASC,EAAaC,EAAK,CAChC,OAAOA,EACJ,IACCC,GAAQ;AAAA,8CACgCA,EAAK,aAAa;AAAA;AAAA,yBAEvCA,EAAK,YAAY;AAAA,yBACjBA,EAAK,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAMXA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIVA,EAAK,KAAK;AAAA;AAAA;AAAA;AAAA,uBAIVA,EAAK,QAAQ;AAAA;AAAA;AAAA;AAAA,uBAIbA,EAAK,SAAS;AAAA;AAAA;AAAA,kBAIhC,EACA,KAAK,EAAE,CACZ,CCbA,MAAMC,EAAO,SAAS,cAAc,UAAU,EACxCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,cAAc,EACpDF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,MAAMC,EAAc,CAClB,MAAO,EACP,OAAQ,GACR,MAAO,GACP,OAAQ,GACR,MAAO,GACP,QAAS,EACT,MAAO,GACP,OAAQ,EACR,UAAW,0BACX,UAAW,EACX,MAAO,UACP,UAAW,cACX,IAAK,MACL,KAAM,MACN,OAAQ,sBACR,OAAQ,IACR,UAAW,UACX,SAAU,UACZ,EAEMC,EAAU,IAAIC,EAAQF,CAAW,EACjCG,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAED,IAAIhB,EAAO,EAEX,SAASW,EAAaM,EAAG,CACvBA,EAAE,eAAc,EAChBC,IACAT,EAAQ,UAAY,GACpB,MAAMU,EAAcF,EAAE,OAAO,SAAS,MAAM,MAAM,OAClD,GAAIE,EAAY,SAAW,EACzB,OAAAC,IACOC,EAAS,MAAM,CACpB,QAAS,+CACT,SAAU,UAChB,CAAK,EAGHvB,EAAUqB,EAAanB,CAAI,EACxB,KAAKI,GAAO,CACPA,EAAI,KAAK,SAAW,IACtBK,EAAQ,UAAY,GACpBY,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UACpB,CAAS,GAEHZ,EAAQ,mBAAmB,YAAaJ,EAAaD,EAAI,IAAI,CAAC,EAE9DW,EAAS,QAAO,CACtB,CAAK,EACA,MAAMO,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAMF,EAAW,CAAE,CAChC,CAEA,SAASF,GAAa,CACpBL,EAAQ,KAAKH,CAAM,EACnBA,EAAO,UAAU,OAAO,WAAW,CACrC,CAEA,SAASU,GAAc,CACrBP,EAAQ,KAAKH,CAAM,EACnBA,EAAO,UAAU,IAAI,WAAW,CAClC"}